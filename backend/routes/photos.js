const express = require('express'); const router = express.Router(); const { PrismaClient } = require('@prisma/client'); const prisma = new PrismaClient(); router.get('/', async (req, res) => { const photos = await prisma.photo.findMany(); res.json(photos); }); router.post('/', async (req, res) => { const { eventId, photo } = req.body; const photoUrl = `https://example.com/${photo.filename}`; const photoData = await prisma.photo.create({ data: { url: photoUrl, eventId } }); res.json(photoData); }); module.exports = router;